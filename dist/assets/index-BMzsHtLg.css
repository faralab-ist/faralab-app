:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:clamp(14px,.833vw,20px)}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;min-width:320px;min-height:100vh;background-color:#242424}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}html,body,#root{height:100%;margin:0;padding:0;box-sizing:border-box}#app-root{display:flex;flex-direction:column;height:100vh;overflow:hidden}#canvas-container{flex:1;min-height:0;width:100%;background-color:#222;position:relative}#ui-container{position:absolute;top:clamp(28px,1.75rem,34px);left:clamp(20px,1.25rem,26px);z-index:10;display:flex;flex-direction:column;gap:clamp(10px,.625rem,13px)}*,*:before,*:after{box-sizing:inherit}body,#root{margin:0;padding:0;width:100vw;height:100vh}#app-container{width:100%;height:100%;position:relative}#ui-container{position:absolute;top:25px;left:20px;z-index:10;display:flex;flex-direction:column;gap:10px}button{padding:10px 15px;font-size:16px;background-color:#5d66ee;border:10;border-color:#fff;border-radius:5px;cursor:pointer}button:hover{background-color:#30c6ec}.label-wrap{pointer-events:auto;-webkit-user-select:none;user-select:none;display:flex;justify-content:center;z-index:0}.label-panel{background:#0009;color:#fff;padding:6px 10px;border-radius:6px;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;font-size:12px;white-space:nowrap;text-align:center;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);box-shadow:0 2px 4px #0003;position:relative;transition:border-color .2s ease,box-shadow .2s ease;pointer-events:auto;z-index:0}.label-panel.label-hovered{border:2px solid rgba(255,255,255,.8);box-shadow:0 0 8px #fff6}.label-close-btn{position:absolute;top:0;right:0;width:20px;height:20px;border-radius:50%;background:transparent;color:#fff;border:transparent;font-size:16px;font-weight:700;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;transition:all .2s ease;z-index:10;pointer-events:auto;opacity:30%}.label-close-btn:hover{opacity:100%;background:transparent;transform:scale(1.1);box-shadow:0 2px 6px #0000004d}.label-close-btn:active{transform:scale(.95);border:none;outline:none}.label-header{margin-bottom:2px;font-weight:600;text-transform:uppercase;font-size:10px;opacity:.8;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:2px}.label-content{display:flex;flex-direction:column;justify-content:center;gap:2px;align-items:center}.label-value{font-weight:700;font-size:13px;color:#fff}.label-panel .inline-decimal-wrapper{min-width:35px;width:35px;max-width:50px}.label-panel #inline-decimal{padding:2px 4px;background:transparent;border-radius:3px;font-size:11px;min-width:30px;text-align:center}.label-panel #inline-decimal:focus{border-color:#fff6}.create-buttons-container{position:fixed;top:clamp(180px,11.25rem,220px);left:clamp(20px,1.25rem,26px);z-index:1000;max-height:90vh;overflow-y:auto;padding-right:clamp(6px,.375rem,8px)}.create-buttons{position:fixed;top:20px;left:20px;z-index:1000;display:flex;gap:8px}.create-buttons button{padding:8px 16px;background:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .2s}.create-buttons button:hover{background:#1976d2}.gaussian-surfaces,.field-objects,.fields,.presets{background:#141414e6;padding:clamp(12px,.75rem,15px);border-radius:clamp(8px,.5rem,10px);-webkit-backdrop-filter:blur(clamp(6px,.375rem,8px));backdrop-filter:blur(clamp(6px,.375rem,8px))}h4{color:#76baff;margin:0 0 clamp(8px,.5rem,10px) 0;font-size:.9rem;font-weight:500}.buttons-group{display:flex;flex-direction:column;gap:clamp(8px,.5rem,10px)}button{background:#1a1a1a;color:#fff;border:1px solid #333;padding:clamp(8px,.5rem,10px) clamp(12px,.75rem,15px);border-radius:clamp(4px,.25rem,5px);cursor:pointer;transition:all .2s;font-size:.9rem;width:clamp(120px,7.5rem,148px)}button:hover{background:#2a2a2a;border-color:#444}.create-buttons-container .creative-toggle{width:auto;padding:4px 8px;font-size:.8rem;background:transparent;color:#bdbdbd;border:1px solid #3a3a3a;border-radius:9999px}.create-buttons-container .creative-toggle:hover{background:#ffffff0a;border-color:#4a4a4a;color:#d6d6d6}.create-buttons-container .creative-toggle.on{background:#2e74ff14;border-color:#2e74ff59;color:#9ec3ff}.create-buttons-container .creative-toggle:before{content:"â—";font-size:.7em;margin-right:6px;color:#666}.create-buttons-container .creative-toggle.on:before{color:#76baff}.preset-expand-list{display:flex;flex-direction:column;gap:8px}.preset-row{position:relative;display:inline-block}.group-toggle{background:#1a1a1a;border:1px solid #333;padding:8px 14px;border-radius:6px;cursor:pointer;font-size:.9rem;min-width:160px;text-align:left}.group-toggle.open{background:#242c3a;border-color:#3d5a80}.create-buttons-container .toolbar{position:fixed;right:20px;bottom:20px;z-index:1200;display:flex;gap:8px;align-items:center}.create-buttons-container .clear-canvas-btn{width:auto;padding:4px 10px;font-size:.8rem;background:transparent;color:#bdbdbd;border:1px solid #3a3a3a;border-radius:9999px;cursor:pointer;transition:background .15s,border-color .15s,color .15s}.create-buttons-container .clear-canvas-btn:hover{background:#ffffff0d;border-color:#4a4a4a;color:#d6d6d6}.presets-btn{position:fixed;top:45px;left:20px;z-index:20;padding:12px 24px;font-size:.95rem;letter-spacing:.7px;font-weight:700;border-color:#000;background:#53b0ff;color:#fff;border:1px solid rgba(100,180,255,.95);border-radius:30px;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,background .2s ease}.presets-btn:hover{background:#04abff;color:#fff;transform:translateY(1px);box-shadow:0 18px 40px #04abff1a,0 6px 18px #04abff0f,0 2px 6px #00000059}.preset-dropdown.tl{position:fixed;top:52px;left:150px;z-index:1450}.preset-dropdown.tl .expanded-panel{animation:presetMenuIn .22s cubic-bezier(.25,.8,.3,1);will-change:transform,opacity}@keyframes presetMenuIn{0%{opacity:0;transform:translate(10px) scale(.96)}60%{opacity:1;transform:translate(0) scale(1.01)}to{opacity:1;transform:translate(0) scale(1)}}.preset-dropdown.tl .expanded-panel{display:grid;grid-template-columns:repeat(3,minmax(110px,1fr));gap:8px;background:#131313eb;padding:10px;border:1px solid #333;border-radius:10px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.preset-dropdown.tl .expanded-panel button,.preset-dropdown.tl .expanded-panel .preset-actions button{width:110px;padding:6px 10px;font-size:.85rem;background:transparent;color:#fff;border:1px solid transparent;cursor:pointer;transition:background .15s,border-color .15s}.preset-dropdown.tl .expanded-panel button:hover{background:#2a2a2a;border-color:#444}.preset-dropdown.tl .expanded-panel .preset-separator{grid-column:1 / -1;height:1px;margin:4px 0;background:#ffffff0f}.preset-dropdown.tl .expanded-panel .preset-actions{grid-column:1 / -1;display:flex;gap:8px;justify-content:flex-start;align-items:center;padding-top:0}.export-dialog-overlay{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .15s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.export-dialog{background:linear-gradient(135deg,#1e1e2e,#252535);border:1px solid rgba(255,255,255,.1);border-radius:12px;width:90%;max-width:420px;box-shadow:0 20px 60px #0006;animation:slideUp .2s ease-out;overflow:hidden}@keyframes slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.export-dialog-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.08)}.export-dialog-header h3{margin:0;font-size:18px;font-weight:600;color:#fff;letter-spacing:-.01em}.export-dialog-close{background:none;border:none;color:#ffffff80;font-size:28px;line-height:1;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .15s ease}.export-dialog-close:hover{background:#ffffff14;color:#ffffffe6}.export-dialog-body{padding:24px}.export-dialog-body label{display:block;margin-bottom:10px;font-size:13px;font-weight:500;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px}.export-dialog-body input{width:100%;padding:12px 16px;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:15px;font-family:inherit;transition:all .2s ease;outline:none;box-sizing:border-box}.export-dialog-body input:focus{border-color:#4a9eff;background:#0006;box-shadow:0 0 0 3px #4a9eff1a}.export-dialog-body input::placeholder{color:#ffffff4d}.export-dialog-hint{display:block;margin-top:8px;font-size:12px;color:#fff6;font-style:italic}.export-dialog-footer{display:flex;gap:12px;padding:16px 24px;background:#0003;border-top:1px solid rgba(255,255,255,.05)}.export-dialog-cancel,.export-dialog-confirm{flex:1;padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;outline:none}.export-dialog-cancel{background:#ffffff0d;color:#ffffffb3;border:1px solid rgba(255,255,255,.1)}.export-dialog-cancel:hover{background:#ffffff14;color:#ffffffe6}.export-dialog-confirm{background:linear-gradient(135deg,#4a9eff,#3b7fd8);color:#fff;box-shadow:0 4px 12px #4a9eff4d}.export-dialog-confirm:hover:not(:disabled){background:linear-gradient(135deg,#5aafff,#4b8fe8);box-shadow:0 6px 16px #4a9eff66;transform:translateY(-1px)}.export-dialog-confirm:active:not(:disabled){transform:translateY(0)}.export-dialog-confirm:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}@media(max-width:480px){.export-dialog{width:95%;max-width:none}.export-dialog-header{padding:16px 20px}.export-dialog-body{padding:20px}.export-dialog-footer{padding:14px 20px}}.inline-decimal-wrapper{display:inline-flex;align-items:center;position:relative}#inline-decimal{font:inherit;display:inline}#inline-decimal:focus{outline:none}.inline-decimal-arrows{position:absolute;right:0;top:0;bottom:0;width:18px;display:flex;flex-direction:column;justify-content:center;opacity:0;transition:opacity .15s;font-size:12px;-webkit-user-select:none;user-select:none;pointer-events:none}.inline-decimal-wrapper:hover .inline-decimal-arrows{opacity:.35;pointer-events:auto}.inline-decimal-arrow{line-height:10px;text-align:center;padding:1px 0;cursor:pointer;transition:background .15s,opacity .15s}.inline-decimal-arrow:hover{background:#ccc;opacity:.9}.sidebar-wrap{position:fixed;top:0;right:0;height:100vh;width:0;z-index:5;pointer-events:none;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}.sidebar{position:fixed;top:0;right:0;width:clamp(325px,20.3rem,400px);top:clamp(20px,1.25rem,26px);height:100vh;background:#101010;color:#eaeaea;border-left:1px solid #2a2a2a;transform:translate(100%);transition:transform .25s ease;overflow:hidden;box-sizing:border-box;pointer-events:auto;cursor:pointer}.sidebar.open{transform:translate(0);cursor:default}.object-list{list-style:none;margin:0;padding:0;display:grid;gap:clamp(8px,.5rem,10px)}.object-row img{filter:brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);width:20px;height:20px}.object-row-wrapper{display:flex;flex-direction:column;gap:clamp(4px,.25rem,5px)}.object-row{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:clamp(8px,.5rem,10px);padding:clamp(8px,.5rem,10px) clamp(10px,.625rem,12px);border:1px solid #202020;border-radius:clamp(8px,.5rem,10px);background:#121212;cursor:pointer}.object-row:hover,.object-row.selected,.object-row:focus-visible{background:linear-gradient(180deg,#ffffff05,#ffffff03);border-color:#154e99e6;transform:translateY(-2px);filter:invert(63%) sepia(61%) saturate(3550%) hue-rotate(180deg) brightness(96%) contrast(100%)}.object-row.hovered .name,.object-row.selected .name{color:#fff;font-weight:600}.object-row:active{transform:translateY(0);box-shadow:0 3px 8px #00000059}.object-row:hover .name,.object-row:focus-visible .name{color:#fff;font-weight:600}.expand-btn{z-index:2}.expand-btn{background:none;border:none;color:#bbb;font-size:16px;cursor:pointer;transition:color .15s ease;padding:5px 20px}.object-row img{width:20px;height:20px;display:block;transition:filter .12s,transform .08s}.panel-content{padding:16px;height:100%;overflow-y:auto;box-sizing:border-box}.object-details{margin-top:-5px;margin-right:12px;border:1px solid #222;border-radius:6px;background:#181818;padding:8px 12px;font-size:12px;line-height:1.4;max-width:295px;width:calc(100% + 12px)}.details-grid{display:flex;flex-direction:column;gap:4px}.detail-row{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:2px 0;border-bottom:1px solid #222}.detail-row:last-child{border-bottom:none}.detail-key{flex:0 0 auto;color:#999}.detail-value{flex:1 1 100%;display:flex;align-items:center;gap:6px;color:#eee;font-family:monospace;font-size:11px;overflow:hidden}.object-details input[type=number],.object-details input[type=text],.object-details select{flex:0 0 auto;width:70px;max-width:100%;padding:2px 6px;font-size:11px;background:#141414;color:#e6eef7;border:1px solid #2b2b2b;border-radius:4px;box-sizing:border-box;outline:none}.object-details input[type=number]:focus,.object-details input[type=text]:focus,.object-details select:focus{border-color:#154e99e6}.object-details .input-group{display:flex;flex-wrap:wrap;gap:6px;width:100%}.object-details .input-group>label{display:flex;flex-direction:column;gap:2px;font-size:10px;color:#aaa}.object-details .error-text{width:100%;color:#ff5c5c;font-size:10px;font-weight:600;margin-top:2px}.object-details .inline-input-wrapper{display:flex;flex-direction:column;gap:2px}.object-details .inline-input-wrapper input.has-error{border:1px solid #c23535}.object-details .input-error{color:#ff5c5c;font-size:10px;line-height:1.1;font-weight:600}.sidebar.minimized{width:50px;transform:translate(0);overflow:visible;display:flex;align-items:center;justify-content:center;padding:12px 8px}.sidebar.minimized .panel-content{display:none}.minibar{outline:none;display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;height:60vh;pointer-events:auto}.pos_charge-icon-btn,.neg_charge-icon-btn,.testPointCharge-icon-btn,.wire-icon-btn,.concentricInfWires-icon-btn,.plane-icon-btn,.stackedPlanes-icon-btn,.charged_sphere-icon-btn,.concentricSpheres-icon-btn,.sphere-icon-btn,.cuboid-icon-btn,.cylinder-icon-btn,.path-icon-btn,.ringCoil-icon-btn,.polygonCoil-icon-btn,.solenoid-icon-btn,.barMagnet-icon-btn,.faradayCoil-icon-btn,.testCoil-icon-btn{background:none;border:none;padding:4px;width:auto;border-radius:0;box-shadow:none;outline:none;display:inline-flex;align-items:center;justify-content:center;gap:0;transform:none;margin:0 auto}.wire-icon-btn .wire-icon,.concentricInfWires-icon-btn .wire-icon,.plane-icon-btn .plane-icon,.stackedPlanes-icon-btn .plane-icon,.concentricSpheres-icon-btn .charged_sphere-icon,.charged_sphere-icon-btn .charged_sphere-icon{width:28px;height:28px;filter:brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);transition:filter .12s,transform .08s}.pos_charge-icon-btn .charge-icon,.neg_charge-icon-btn .charge-icon{width:28px;height:28px;filter:brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%)}.sidebar-icon{width:28px;height:28px;filter:brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);transition:filter .12s,transform .08s}.sidebar.minimized button:hover{background:none!important;border:none!important;box-shadow:none!important;outline:none!important}.sidebar.minimized button:hover img,.sidebar.minimized button.hovered img{transform:scale(1.1);filter:brightness(0) saturate(100%) invert(62%) sepia(81%) saturate(508%) hue-rotate(165deg) brightness(103%) contrast(101%)}.settings-buttons-root{position:fixed;left:clamp(20px,1.25rem,26px);bottom:clamp(20px,1.25rem,26px);display:flex;flex-direction:column-reverse;gap:clamp(10px,.625rem,13px);z-index:1200}.settings-buttons-root.horizontal{position:fixed;left:clamp(20px,1.25rem,26px);bottom:clamp(20px,1.25rem,26px);display:flex;flex-direction:row;gap:clamp(14px,.875rem,18px);z-index:1200}.settings-group{position:relative}.settings-main,.settings-main.big{color:#fff;border:1px solid #3a3a3a;padding:clamp(8px,.5rem,10px) clamp(18px,1.125rem,22px);border-radius:9999px;cursor:pointer;font-size:.85rem;letter-spacing:.5px;min-width:clamp(130px,8.125rem,160px);text-align:left;transition:border-color .18s,color .18s}.settings-main:hover,.settings-main.big:hover{background:#ada2a20d;border-color:#4a4a4a;color:#d6d6d6}.settings-main.disabled,.settings-main:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(40%);box-shadow:none;border-color:#ffffff14;background:#1e1e1e99}.settings-main.disabled:hover,.settings-main:disabled:hover{transform:none;background:#1e1e1e99;box-shadow:none}.settings-panel,.gaussian-panel,.slicing-panel{position:absolute;bottom:calc(100% + clamp(10px,.625rem,13px));left:0;display:flex;flex-direction:column;gap:clamp(10px,.625rem,13px);background:#0f0f0ff0;border:1px solid #2e2e2e;padding:clamp(14px,.875rem,18px);border-radius:clamp(12px,.75rem,15px);width:clamp(300px,18.75rem,370px);-webkit-backdrop-filter:blur(clamp(6px,.375rem,8px));backdrop-filter:blur(clamp(6px,.375rem,8px));animation:panelFade .18s ease-out}.settings-panel button,.gaussian-panel button,.slicing-panel button{font-size:.8rem;background:#1a1a1a;color:#fff;border:1px solid #333;padding:clamp(8px,.5rem,10px) clamp(12px,.75rem,15px);font-size:.9rem;border-radius:4px;text-align:left;cursor:pointer;transition:background .15s,border-color .15s}.surface-icon-btn{flex:1 1 70px;max-width:78px;display:flex;flex-direction:column;align-items:center;gap:6px;background:#1a1a1a;border:1px solid #333;color:#fff;padding:10px 12px;width:78px;border-radius:20px;cursor:pointer;font-size:.62rem;transition:background .15s,border-color .15s,color .15s,transform .05s}.surface-icon-btn:hover:not(:disabled){background:#2a2a2a;border-color:#444;color:#fff}.surface-icon-btn.active{background:#2e74ff26;border-color:#2e74ff8c;color:#c6e1ff}.separator{position:relative;top:-10px}.gaussian-sep{height:1px;background:#ffffff08;margin:10px -14px 6px;border-top:1px solid rgba(255,255,255,.03)}.flux-icon-btn{display:inline-flex;align-items:center;justify-content:flex-start;gap:8px;width:155px;height:40px;padding:6px 10px;border-radius:10px;background:#1a1a1a;border:1px solid #333;color:#fff;cursor:pointer;font-size:.8rem;transition:background .12s,border-color .12s,transform .05s;position:relative}.flux-icon-btn img{flex:0 0 auto;width:40px;height:40px;display:block;opacity:.95;margin-left:6px}.flux-icon-btn span{display:inline-block;width:96px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.flux-icon-btn:hover:not(:disabled){background:#2a2a2a;border-color:#444}.flux-icon-btn:disabled{opacity:1;cursor:not-allowed;filter:grayscale(60%) brightness(80%);pointer-events:none}.flux-icon-btn.active{background:#2e74ff1f;border-color:#2e74ff8c;color:#c6e1ff}.flux-toggle{margin-top:10px;font-size:.62rem;color:#c9d6e2;display:flex;align-items:center;gap:6px;-webkit-user-select:none;user-select:none}.flux-toggle input{margin-right:5px;accent-color:#3d5a80;cursor:pointer}.flux-toggle.disabled{opacity:.35}.flux-toggle.disabled input{cursor:not-allowed}.flux-popup{position:fixed;z-index:4000;width:200px;background:#141416f5;border:1px solid #2f3944;border-radius:10px;box-shadow:0 4px 18px -2px #0009,0 0 0 1px #1d1f22;padding:10px 12px 12px;animation:fluxPop .18s ease;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}@keyframes fluxPop{0%{opacity:0;transform:translateY(6px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}.flux-popup-header{display:flex;justify-content:space-between;align-items:center;font-size:.7rem;letter-spacing:.4px;font-weight:600;color:#c6d8ea;margin-bottom:6px}.flux-popup-close{background:none;border:none;color:#8894a2;font-size:1rem;line-height:1;cursor:pointer;padding:0 4px;border-radius:4px;transition:background .15s,color .15s}.flux-popup-close:hover{background:#262d33;color:#d3e2f5}.flux-popup-body{font-size:.65rem;color:#aebccc;margin-bottom:10px;line-height:1.1rem}.flux-popup-actions{display:flex;justify-content:flex-end}.flux-popup-actions button{font-size:.6rem;padding:6px 10px;border-radius:6px;border:1px solid #2f3944;background:#244462;color:#d3ecff;cursor:pointer;transition:background .15s,border-color .15s}.flux-popup-actions button:hover{background:#2d567a}.flux-popup-actions button:hover .settings-panel{position:absolute;bottom:calc(100% + 10px);left:0;display:flex;flex-direction:column;gap:10px;background:#0f0f0ff0;border:1px solid #2e2e2e;padding:14px;border-radius:12px;min-width:250px;width:250px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);animation:panelFade .18s ease-out}.flux-popup-actions button:hover .settings-panel:before{content:"";position:absolute;bottom:-6px;left:18px;width:14px;height:14px;background:#0f0f0ff0;border-left:1px solid #2e2e2e;border-bottom:1px solid #2e2e2e;transform:rotate(45deg);border-radius:2px}.fieldview-tabs .fieldview-tab{padding:6px 10px;background:transparent;border:0;cursor:pointer}.fieldview-tabs .fieldview-tab.active{font-weight:700;text-decoration:underline}.separator{height:1px;background:#ffffff06;margin:-10px -2px 2px;border-top:1px solid rgba(255,255,255,.03)}.settings-panel,.fieldview-panel{outline:none}.settings-panel:focus-within,.fieldview-panel:focus-within{box-shadow:none!important;border-color:#ffffff08!important;outline:none}.fieldview-tab,.fieldview-tab:focus,.fieldview-tab:active{outline:none!important;box-shadow:none!important}* .settings-panel:before,.fieldview-panel:before{display:none}.plane-buttons-container{position:static;top:auto;left:auto;z-index:auto;pointer-events:auto;margin:0;display:block}.plane-buttons-group{display:flex;gap:10px;pointer-events:auto;align-items:center}.plane-button:disabled,.plane-button[aria-disabled=true]{opacity:.48;filter:grayscale(8%);transform:none;box-shadow:none;cursor:not-allowed;border-color:#ffffff1f;background:#1e1e1e99}.plane-label{font-size:16px;font-weight:700;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,1);-webkit-user-select:none;user-select:none;letter-spacing:1px}.settings-panel,.fieldview-panel{width:280px;min-width:100px;max-width:320px;height:490px;min-height:420px;max-height:500px;box-sizing:border-box;overflow:hidden}.settings-panel .panel-body,.fieldview-panel .panel-body,.settings-panel .panel-scroll,.fieldview-panel .panel-scroll{height:calc(100% - 48px);overflow:auto;padding-right:6px}.settings-panel,.fieldview-panel{will-change:transform,opacity}.efield-section{border:1px solid #222;padding:10px 10px 12px;border-radius:10px;background:#121212;display:flex;flex-direction:column;gap:8px;margin-top:8px;opacity:0;transform:translateY(-4px);animation:fadeInUp .16s ease forwards}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.efield-section-title{font-size:.68rem;font-weight:700;letter-spacing:.35px;color:#c2d7ee;text-transform:uppercase;opacity:.95}.efield-row.compact{display:flex;gap:8px;align-items:center;justify-content:flex-start;flex-wrap:nowrap}.efield-row.compact .efield-label{display:flex;flex-direction:column;align-items:center;gap:8px;flex:0 0 auto;min-width:0}.efield-row.compact .efield-range{width:120px;margin:0 6px 0 0}.efield-row.compact .slider-value{min-width:36px;text-align:right}.efield-row.compact .efield-checkbox{width:14px;height:14px;margin-left:4px;transform:translateY(-1px)}.efield-label{position:relative;display:flex;flex-direction:column;align-items:flex-start}.efield-label input{width:76px;min-width:64px;display:flex;flex-direction:row;height:26px;padding:4px 8px;font-size:.72rem;font-weight:700;letter-spacing:.2px;line-height:1.1;background:#1a1c1f;border:1px solid #3a3f46;color:#eef4ff;border-radius:6px;outline:none;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;transition:border-color .15s,background .15s,color .15s}.efield-label input:focus{border-color:#4a6d94;background:#20252a;color:#fff;outline:none}.efield-label input:disabled{opacity:.35;cursor:not-allowed}.field-buttons-row{display:flex;gap:8px;align-items:center}.efield-toggle-btn{background:#1a1c1f;border:1px solid #3a3f46;color:#eef4ff;padding:8px 10px;border-radius:8px;font-weight:700;font-size:.78rem;min-width:120px;text-align:center;cursor:pointer;transition:background .12s,border-color .12s,transform .06s,box-shadow .12s}.efield-toggle-btn:hover{background:#202427;border-color:#4a6d94;transform:translateY(-1px)}.efield-toggle-btn.active:hover{border-color:#4a6d94;transform:translateY(-3px);transition:all .16s ease}.efield-toggle-btn:focus{outline:none}.efield-toggle-btn:active{transform:translateY(0)}.efield-toggle-btn.active{background:linear-gradient(180deg,#4a6d941a,#4a6d940a);border-color:#156699e6;box-shadow:inset 0 -2px 6px #4a6d940a}.efield-toggle-btn.disabled{opacity:.48;cursor:not-allowed;filter:grayscale(12%);pointer-events:auto}.efield-section.disabled{opacity:.5;cursor:not-allowed;pointer-events:none;filter:grayscale(40%);box-shadow:none;border-color:#ffffff14;background:#1e1e1e05}.efield-section.disabled .efield-section-title{color:#fff9}.efield-section input[disabled]{background:#ffffff08;color:#fff9;border-color:#ffffff0f}.efield-label.horizontal{flex-direction:row;align-items:center;gap:10px}.efield-checkbox{width:14px;height:14px;accent-color:#4f9aff;margin-left:1px}.efield-range{-webkit-appearance:none;appearance:none;width:160px;height:8px;background:transparent;margin:0 8px;vertical-align:middle}.efield-range::-webkit-slider-runnable-track{height:8px;border-radius:999px;background:linear-gradient(90deg,#ffffff0f,#ffffff08);border:1px solid rgba(255,255,255,.03)}.efield-range::-webkit-slider-thumb{-webkit-appearance:none;width:12px;height:12px;border-radius:50%;background:#e9eef7;border:2px solid rgba(0,0,0,.25);margin-top:-2px;box-shadow:0 2px 6px #00000073}.efield-range:disabled{opacity:.5;cursor:not-allowed}.efield-row .slider-value,.efield-row span[style]{min-width:48px;text-align:center}.efield-label.dimmed{opacity:.56;filter:grayscale(50%) brightness(.9)}.efield-checkbox:disabled{cursor:not-allowed;opacity:.84}.efield-label.dimmed .slider-value,.efield-label.dimmed .label-text{opacity:.9}.efield-section.disabled{opacity:.6;transform:none;filter:grayscale(40%)}@media(max-width:420px){.efield-range{width:120px}.efield-label.horizontal{gap:8px}}.potential-controls{position:absolute;left:14px;right:14px;margin:0;display:flex;flex-direction:column;gap:8px;pointer-events:auto;z-index:30}.pot-toggle-btn{width:auto;min-width:120px;padding:8px 10px;font-weight:700;font-size:.78rem;text-align:center;color:#eef4ff;background:#1a1c1f;border:1px solid #3a3f46;border-radius:8px;cursor:pointer;transition:background .12s,border-color .12s,transform .06s,box-shadow .12s}.pot-toggle-btn:hover{background:#202427;border-color:#4a6d94;transform:translateY(-1px)}.pot-toggle-btn.active{background:linear-gradient(180deg,#4a6d941a,#4a6d940a);border-color:#156699e6;box-shadow:inset 0 -2px 6px #4a6d940a}.pot-toggle-btn.disabled{opacity:.48;cursor:not-allowed;filter:grayscale(12%);pointer-events:auto}.pot-toggle-btn.disabled:hover{transform:none;border-color:#333;background:#131313}.settings-panel .slider-row{display:flex;flex-direction:column;gap:6px;margin-top:8px;transform:translateY(-4px);animation:fadeInUp .16s ease forwards}.settings-panel .slider-label{font-size:.7rem;color:#aebccc}.settings-panel .slider-value{color:#d7e6f7;font-weight:600;margin-left:4px}.settings-panel input[type=range]{width:100%}.potential-slider{width:100%;background:transparent;outline:none;-webkit-appearance:none;appearance:none}.potential-slider:focus{outline:none}.potential-slider::-moz-focus-outer{border:0}.potential-slider::-webkit-slider-runnable-track{outline:none;height:8px;border-radius:9999px;border:1px solid #2e2e2e;background:linear-gradient(90deg,#7474742e,#8080802e 50%,#ffffff2e 50%,#78aaff2e),linear-gradient(90deg,transparent calc(50% - 1px),rgba(214,230,255,.7) 50%,transparent calc(50% + 1px)),#1e1e1e}.potential-slider::-moz-range-track{height:8px;border-radius:9999px;border:1px solid #2e2e2e;background:linear-gradient(90deg,#e85e5e2e 0% 50%,#78aaff2e 50% 100%),linear-gradient(90deg,transparent calc(50% - 1px),rgba(214,230,255,.7) 50%,transparent calc(50% + 1px)),#1a1a1a}.potential-slider:focus::-webkit-slider-runnable-track{border-color:#2e2e2e}.potential-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;box-sizing:border-box;margin-top:-5px;width:14px;height:14px;border-radius:50%;background:#e6e6e6;border:1px solid #3f3f3f;box-shadow:0 0 0 2px #00000040 inset;cursor:pointer}.potential-slider::-moz-range-thumb{box-sizing:border-box;width:14px;height:14px;border-radius:50%;background:#e6e6e6;border:1px solid #3f3f3f;cursor:pointer}.potential-slider:disabled{opacity:.35;cursor:not-allowed!important}.potential-slider:disabled::-webkit-slider-thumb{cursor:not-allowed!important}.potential-slider:disabled::-moz-range-thumb{cursor:not-allowed!important}:root{--slice-btn-size: 62px}.slicing-panel{display:flex;flex-direction:column;position:static;gap:8px;border:none;background:transparent;color:#dfeaf5;font-size:13px;width:100%;box-sizing:border-box}.slice-row{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:8px;width:100%;box-sizing:border-box}.efield-section{padding:12px;border:1px solid var(--edge);border-radius:var(--radius);background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:var(--soft-shadow);overflow:hidden;width:100%;box-sizing:border-box}.slice-row button{display:inline-flex;flex-direction:column;align-items:center;justify-content:center;justify-self:start;width:var(--slice-btn-size);height:var(--slice-btn-size);min-width:var(--slice-btn-size);padding:8px 6px;gap:6px;border:1px solid rgba(255,255,255,.04);border-radius:10px;background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:0 2px 6px #00000059 inset;color:#dfeaf5;text-align:center;cursor:pointer;transition:all .16s ease}.slice-row .slicing-btn{flex:0 0 100%;max-width:100%;flex-direction:row;align-items:center;height:44px;min-height:40px;padding:8px 12px;gap:10px;border-radius:4px;box-shadow:0 8px 22px #0000008c,inset 0 2px 6px #00000059;z-index:2}.slice-row button img{display:block;flex:0 0 auto;width:22px;height:22px;filter:invert() brightness(1.1)}.slice-row .slicing-btn img{width:20px;height:20px;filter:invert()}.slice-row .btn-label{margin:0;color:inherit;font-size:11px;font-weight:700;line-height:1;white-space:nowrap}.slice-row .slicing-btn .btn-label{font-size:13px}.flip-btn img{transition:transform .3s ease}.flip-btn.active img{transform:scaleX(-1)}.slice-row button:hover{transform:translateY(-4px);border-color:#ffffff12;color:#fff}.slice-row button:active{transform:translateY(0)}.slice-row button.active,.slice-row .slicing-btn:active,.slice-row .helper-btn:active{background:linear-gradient(180deg,var(--accent),var(--accent-2));border-color:#154e99e6;box-shadow:0 8px 28px #4f9aff29,0 2px 6px #00000080 inset;color:#fff}.slice-row .flip-btn,.slice-row .helper-btn{border-radius:5px}.slice-row .flip-btn.active{background:linear-gradient(180deg,#ffffff03,#fff0);border-color:#ffffff0a;box-shadow:0 2px 6px #00000059 inset;color:#dfeaf5}.slice-row .slicing-btn.active:hover{background:#1191ed;border-color:#64b4ff;box-shadow:0 0 25px #4681fff5;transform:scale(1.02) translateY(-1px)}.slice-row button:disabled{opacity:1;cursor:not-allowed;transform:none}.slicing-panel.disabled{transition:filter .18s ease,opacity .18s ease;filter:grayscale(.6) brightness(.88);opacity:.7;pointer-events:none}.slicing-panel.disabled .slicing-btn{filter:none;opacity:1;pointer-events:auto;transform:translateY(0)}.slicing-panel.disabled .plane-button,.slicing-panel.disabled .helper-btn,.slicing-panel.disabled .flip-btn{opacity:.48;filter:grayscale(.9);box-shadow:none}.slicing-panel.disabled button:focus{outline:none}.slicing-panel.disabled .slice-row button:hover,.slicing-panel.disabled .slice-row .slicing-btn:hover{background:#646464b3;border-color:#fff;box-shadow:0 4px 15px #0009;transform:scale(1.02) translateY(-1px)}input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:10px;margin-right:10px;background:transparent;cursor:pointer}input[type=range]::-webkit-slider-runnable-track{height:8px;border:1px solid rgba(255,255,255,.03);border-radius:999px;background:linear-gradient(90deg,#ffffff0f,#ffffff08)}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;margin-top:-4px;border:2px solid rgba(0,0,0,.25);border-radius:50%;background:#e9eef7;box-shadow:0 2px 6px #00000080}input[type=range]:disabled{opacity:.6;cursor:not-allowed}.plane-buttons-group{display:flex;gap:10px}.plane-button{flex:1;padding:8px 12px;background:#3c3c3c99;border:2px solid rgba(255,255,255,.5);border-radius:6px;color:#fff;font-size:.75rem;font-weight:700;letter-spacing:1px;cursor:pointer;transition:all .2s ease;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.plane-button.inactive{opacity:.8;color:var(--muted)}.plane-button:hover{transform:translateY(-3px);border-color:#fff6;box-shadow:0 0 10px #ffffff26}.plane-button.active{background:linear-gradient(180deg,var(--accent),var(--accent-2));border-color:#154e99e6;color:#fff;box-shadow:0 8px 28px #4f9aff29,0 2px 6px #00000080 inset;transform:translateY(-1px)}.plane-button.inactive:hover{transform:translateY(-3px);border-color:#fff6;box-shadow:0 0 10px #ffffff26;transition:all .16s ease}.plane-button:focus{outline:none}.plane-button.active:hover{background:#1191ed;box-shadow:0 0 25px #4682ffcc;transform:scale(1.05) translateY(-4px);transition:all .16s ease}.plane-buttons-title{font-size:14px;color:#ffffffd9;margin-bottom:8px;font-weight:600;margin-top:4px}@media(max-width:420px){.slice-row,.plane-buttons-group{gap:8px}.efield-section{padding:10px}}.test-charge-panel{display:flex;flex-direction:column;gap:12px;padding:12px;width:100%;position:relative}.add-test-charge-btn{width:100%;display:flex;align-items:center;justify-content:center;height:44px;min-height:40px;padding:8px 12px;border:1px solid rgba(255,255,255,.04);border-radius:4px;background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:0 8px 22px #0000008c,inset 0 2px 6px #00000059;color:#dfeaf5;cursor:pointer;transition:all .16s ease;z-index:2}.add-test-charge-btn .btn-label{font-size:13px;font-weight:700;line-height:1;white-space:nowrap;color:inherit}.add-test-charge-btn:hover{transform:translateY(-4px);border-color:#ffffff12;color:#fff}.add-test-charge-btn.active{background:linear-gradient(180deg,var(--accent),var(--accent-2));border-color:#154e99e6;box-shadow:0 8px 28px #4f9aff29,0 2px 6px #00000080 inset;color:#fff}.add-test-charge-btn.active:hover{background:#1191ed;border-color:#64b4ff;box-shadow:0 0 25px #4681fff5}.test-charge-config{padding:12px;border:1px solid rgba(255,255,255,.06);border-radius:6px;background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:0 2px 8px #0003;display:flex;flex-direction:column;gap:12px;animation:slideDown .2s ease-out;transform-origin:top}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px) scaleY(.98)}to{opacity:1;transform:translateY(0) scaleY(1)}}.section-title{display:block;margin-bottom:8px;font-size:11px;font-weight:700;color:#ffffffbf;letter-spacing:.6px}.xyz-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}.xyz-grid input{width:64px;min-width:64px;display:flex;flex-direction:row;height:26px;padding:4px 8px;font-size:.72rem;font-weight:700;letter-spacing:.2px;line-height:1.1;background:#1a1c1f;border:1px solid #3a3f46;color:#eef4ff;border-radius:6px;outline:none;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;transition:border-color .15s,background .15s,color .15s}.xyz-grid input:focus{border-color:#5a8fd8;outline:none;background:#252930}.config-actions{display:flex;justify-content:flex-end;gap:8px;padding-top:4px}.action-btn{height:32px;min-width:32px;display:flex;align-items:center;justify-content:center;border-radius:6px;cursor:pointer;background:#ffffff05;border:1px solid rgba(255,255,255,.04);transition:all .2s ease}.action-btn:hover{transform:translateY(-3px);border-color:#fff6;box-shadow:0 0 10px #ffffff26}.action-btn.primary img{width:22px;height:22px;transition:transform .2s ease}.action-btn.secondary img{width:16px;height:16px;filter:invert(1)}.action-btn.primary img{filter:invert(63%) sepia(61%) saturate(3550%) hue-rotate(180deg) brightness(96%) contrast(100%)}.subsection-header{display:flex;align-items:center;gap:8px;margin:10px 0 6px;opacity:.6}.subsection-header span{font-size:10px;letter-spacing:.5px;color:#dfeaf5}.subsection-line{flex-grow:1;height:1px;background:#ffffff26}.charges-divider{height:1px;background:#2a2a2a;margin:0}.charges-list{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:scroll;overflow-x:hidden;list-style:none;margin:0;padding:0 0 0 8px;scroll-behavior:smooth}.charges-header{font-size:11px;font-weight:700;color:#999;letter-spacing:.6px;padding:0;text-transform:uppercase;margin-bottom:4px}.charge-item{padding:8px 10px;border:1px solid #202020;border-radius:8px;background:#121212;cursor:pointer;transition:all .15s ease;display:flex;flex-direction:column;gap:6px}.charge-item:hover{background:linear-gradient(180deg,#ffffff05,#ffffff03);border-color:#154e99e6;transform:translateY(-2px)}.charge-item-header{display:flex;justify-content:space-between;align-items:center;gap:8px}.charge-name{font-size:12px;font-weight:600;color:#eee;flex:1}.charge-value{flex-shrink:0}.charge-value .inline-decimal-wrapper{width:auto}.charge-value #inline-decimal{font-size:10px;font-weight:700;color:#eef4ff;background:#1a1c1f;border:1px solid #3a3f46;padding:2px 4px!important;border-radius:4px;min-width:50px;text-align:right}.charge-value #inline-decimal:focus{border-color:#5a8fd8;background:#252930;outline:none}.charge-info{display:flex;flex-direction:column;gap:2px;font-size:10px;color:#999;font-family:monospace}.charge-direction{display:block}.charges-list::-webkit-scrollbar{width:8px}.charges-list::-webkit-scrollbar-track{background:transparent;margin-right:4px}.charges-list::-webkit-scrollbar-thumb{background:#333;border-radius:4px;margin-right:4px}.charges-list::-webkit-scrollbar-thumb:hover{background:#444}.efield-menu-container{width:280px;min-width:280px;max-width:320px;min-height:420px;max-height:calc(100vh - 120px);padding:6px;border-radius:12px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;flex-direction:column;gap:10px;box-sizing:border-box;overflow:visible;animation:panelFade .18s ease-out}@keyframes panelFade{0%{opacity:0;transform:translateY(8px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}.fieldview-content{flex:1;display:flex;flex-direction:column;gap:8px;padding-right:6px}.fieldview-content .potential-controls{position:static;left:auto;right:auto}.fieldview-plane-bottom{margin-top:auto;flex-shrink:0}.fieldview-tabs{display:flex;gap:8px;margin-bottom:8px;flex-shrink:0}.fieldview-tab{flex:1;padding:8px 12px;background:transparent;border:1px solid rgba(255,255,255,.04);border-radius:6px;cursor:pointer;color:#fff9;font-size:13px;font-weight:500;text-align:center;transition:all .16s ease;box-shadow:0 2px 6px #00000059 inset}.fieldview-tab:hover{color:#fff;border-color:#ffffff12;background:#ffffff05}.fieldview-tab.active{font-weight:700;color:#fff;background:linear-gradient(180deg,var(--accent),var(--accent-2));border-color:#154e99e6;box-shadow:0 8px 28px #4f9aff29,0 2px 6px #00000080 inset}.efield-section{padding:12px;border:1px solid rgba(255,255,255,.04);border-radius:10px;background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:0 2px 6px #00000059 inset;overflow:hidden}.efield-section.disabled{opacity:.5;cursor:not-allowed;pointer-events:none;filter:grayscale(40%)}.efield-section-title{margin-bottom:8px;font-size:11px;font-weight:700;color:#ffffffbf;letter-spacing:.6px}.efield-row.compact{display:flex;align-items:center;justify-content:space-between;gap:12px}.efield-label{position:relative;display:flex;flex-direction:column;align-items:flex-start;gap:4px}.efield-row.compact .efield-label{align-items:center;flex:0 0 auto}.efield-label .label-text{font-size:.62rem;font-weight:700;letter-spacing:.3px;color:#159cf0e6}.efield-label input{width:76px;min-width:64px;height:26px;padding:4px 8px;font-size:.72rem;font-weight:700;letter-spacing:.2px;line-height:1.1;background:#1a1c1f;border:1px solid #3a3f46;color:#eef4ff;border-radius:6px;outline:none;transition:border-color .15s,background .15s,color .15s}.efield-row.compact .efield-label input[type=number]{width:64px;min-width:56px}.efield-label input:focus{border-color:#4a6d94;background:#20252a;color:#fff}.efield-label input:disabled{opacity:.35;cursor:not-allowed;background:#ffffff08;border-color:#ffffff0f}.efield-toggle-btn,.pot-toggle-btn{display:inline-flex;align-items:center;justify-content:center;flex-direction:row;height:44px;min-height:40px;padding:8px 12px;gap:10px;border:1px solid rgba(255,255,255,.04);border-radius:4px;background:linear-gradient(180deg,#ffffff03,#fff0);box-shadow:0 8px 22px #0000008c,inset 0 2px 6px #00000059;color:#dfeaf5;font-weight:700;font-size:13px;text-align:center;cursor:pointer;transition:all .16s ease;z-index:2}.efield-toggle-btn:hover,.pot-toggle-btn:hover{transform:translateY(-4px);border-color:#ffffff12;color:#fff}.efield-toggle-btn.active,.pot-toggle-btn.active{background:linear-gradient(180deg,var(--accent),var(--accent-2));border-color:#154e99e6;box-shadow:0 8px 28px #4f9aff29,0 2px 6px #00000080 inset;color:#fff}.efield-toggle-btn.active:hover,.pot-toggle-btn.active:hover{background:#1191ed;border-color:#64b4ff;box-shadow:0 0 25px #4681fff5;transform:scale(1.02) translateY(-1px)}.efield-toggle-btn:nth-child(1).active{border-color:#ff7200cc;box-shadow:0 2px 6px #00000080 inset}.efield-toggle-btn:nth-child(1).active:hover{color:orange;background:#000;border-color:#ff9632;box-shadow:0 2px 6px #00000080 inset;transform:scale(1.02) translateY(-1px)}.efield-toggle-btn:nth-child(2).active{border-color:#157cb8cc;box-shadow:0 2px 6px #00000080 inset}.efield-toggle-btn:nth-child(2).active:hover{color:#4184ff;border-color:#3296dc;background:#000;box-shadow:0 2px 6px #00000080 inset;transform:scale(1.02) translateY(-1px)}.efield-range,.potential-slider{-webkit-appearance:none;appearance:none;width:100%;height:10px;margin-right:10px;background:transparent;cursor:pointer}.efield-range::-webkit-slider-runnable-track,.potential-slider::-webkit-slider-runnable-track{height:8px;border:1px solid rgba(255,255,255,.03);border-radius:999px;background:linear-gradient(90deg,#ffffff0f,#ffffff08)}.efield-range::-webkit-slider-thumb,.potential-slider::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;margin-top:-4px;border:2px solid rgba(0,0,0,.25);border-radius:50%;background:#e9eef7;box-shadow:0 2px 6px #00000080}.efield-range:disabled,.potential-slider:disabled{opacity:.6;cursor:not-allowed}.slider-value{min-width:44px;font-weight:600;text-align:right;color:#ffffffe6}.gaussian-menu-container{padding:12px;min-width:280px;display:flex;flex-direction:column;gap:10px;background:linear-gradient(180deg,#121212f2,#0f0f0ffa);border-radius:10px;animation:fadeInUp .18s ease forwards}@keyframes fadeInUp{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.settings-info{font-size:.75rem;color:#ffffffb3;line-height:1.4;margin-bottom:4px}.surface-buttons-row{display:flex;flex-wrap:wrap;gap:10px;margin-top:4px}.surface-icon-btn{flex:1 1 70px;max-width:78px;display:flex;flex-direction:column;align-items:center;gap:6px;background:#1a1a1a;border:1px solid #333;color:#fff;padding:10px 12px;width:78px;border-radius:4px;cursor:pointer;font-size:.62rem;font-weight:600;letter-spacing:.3px;transition:background .15s,border-color .15s,color .15s,transform .05s}.surface-icon-btn:hover:not(:disabled){background:#2a2a2a;border-color:#444;color:#fff;transform:translateY(-1px)}.surface-icon-btn:active:not(:disabled){transform:translateY(1px)}.surface-icon-btn:disabled{opacity:.35;cursor:not-allowed}.surface-icon-btn.active{background:#2e74ff26;border-color:#2e74ff8c;color:#c6e1ff;box-shadow:inset 0 -2px 6px #2e74ff1a}.surface-icon-btn img{width:28px;height:28px;display:block;opacity:.9}.gaussian-sep{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.08) 20%,rgba(255,255,255,.08) 80%,transparent);margin:10px 0 6px}.flux-button-row{display:flex;align-items:center;gap:8px;margin-top:6px}.flux-button-row.disabled{opacity:.35}.flux-icon-btn{display:inline-flex;align-items:center;justify-content:flex-start;gap:8px;width:155px;height:40px;padding:6px 10px;border-radius:10px;background:#1a1a1a;border:1px solid #333;color:#fff;cursor:pointer;font-size:.8rem;font-weight:600;letter-spacing:.3px;transition:background .12s,border-color .12s,transform .05s}.flux-icon-btn img{width:20px;height:20px;flex-shrink:0;opacity:.9}.flux-icon-btn:hover:not(:disabled){background:#2a2a2a;border-color:#444;transform:translateY(-1px)}.flux-icon-btn:active:not(:disabled){transform:translateY(1px)}.flux-icon-btn:disabled{opacity:.35;cursor:not-allowed}.flux-icon-btn.active{background:#2e74ff26;border-color:#2e74ff8c;color:#c6e1ff;box-shadow:inset 0 -2px 6px #2e74ff1a}.toolbar-popup{position:absolute;top:calc(50% + 6px);left:8px;z-index:200;width:300px;min-width:240px;max-width:90vw;background:#121212fa;border:1px solid rgba(255,255,255,.04);padding:10px;border-radius:8px;box-shadow:0 8px 30px #0000008c;color:#e6eef6;-webkit-font-smoothing:antialiased;transition:border-color .2s ease,box-shadow .2s ease;overflow:hidden;box-sizing:border-box;user-select:none;-webkit-user-select:none}.toolbar-popup.drag-to-dock{border-color:#154e99e6;box-shadow:0 0 20px #154e9980}.toolbar-popup-handle{height:18px;cursor:grab;border-radius:6px;margin:-10px -10px 8px;background:linear-gradient(180deg,#ffffff05,#0c0c0c87);user-select:none;-webkit-user-select:none;touch-action:none;display:flex;align-items:center;padding:0 8px}.toolbar-popup-controls{margin-left:auto;display:flex;gap:8px;align-items:center}.tp-icon-btn{display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;cursor:pointer;transition:background .12s,transform .08s,box-shadow .12s;border:none;padding:0;box-shadow:none}.tp-icon-btn img{width:10px;height:10px;display:block;filter:invert()}.tp-icon-btn:hover{background:#ffffff05;transform:translateY(-1px)}.tp-icon-btn.on{background:#7575751f;box-shadow:0 8px 20px #8787871f;border-radius:0}.tp-icon-btn.close-btn:hover{background:#ff50500f;box-shadow:0 6px 16px #ff50500f}.tp-icon-btn:focus{outline:none}.toolbar-popup.minimized{padding-bottom:6px}.toolbar-popup.minimized .slicing-panel{display:block}.toolbar-popup-handle{position:relative;height:18px;cursor:grab;border-radius:6px;margin:-10px -10px 8px;background:linear-gradient(180deg,#ffffff05,#0c0c0c87);user-select:none;-webkit-user-select:none;touch-action:none;display:flex;align-items:center;padding:0 8px}.toolbar-popup{margin:0;box-sizing:border-box}.toolbar-root{position:relative}.toolbar-popup{position:absolute;margin:0}.toolbar-popup button:not(.plane-button):not(.tp-icon-btn):disabled,.toolbar-popup .helper-btn:not(.plane-button):not(.tp-icon-btn):disabled,.toolbar-popup .flip-btn:not(.plane-button):not(.tp-icon-btn):disabled{opacity:.5;cursor:not-allowed;transform:none}.toolbar-popup button:not(.plane-button):not(.tp-icon-btn):focus,.toolbar-popup .helper-btn:not(.plane-button):not(.tp-icon-btn):focus,.toolbar-popup .flip-btn:not(.plane-button):not(.tp-icon-btn):focus{outline:none}.toolbar-popup h3{margin:0 0 10px 8px;padding:0;font-size:12px;font-weight:700;letter-spacing:.8px;text-transform:uppercase;color:#ffffffe0;background:transparent}.toolbar-popup .slicing-panel{margin:2px;background:transparent;padding:2px}.toolbar-popup,.toolbar-popup *{box-sizing:border-box}.toolbar-popup{width:300px;min-width:240px;max-width:90vw}.toolbar-popup .slicing-panel{width:100%;display:flex;flex-direction:column;gap:10px;margin:0;padding:0}.slider-value{min-width:44px;text-align:right}.toolbar-popup img{max-width:100%;height:auto;display:block}@media(max-width:340px){.slice-row .helper-btn,.slice-row .flip-btn{flex:0 0 48px;width:48px;height:48px}.slice-row .slicing-btn{height:42px;padding:8px}.efield-label{min-width:100px}}.presets-menu{position:fixed;top:48px;left:50%;transform:translate(-50%);z-index:999;animation:presetsMenuSlideIn .22s cubic-bezier(.25,.8,.3,1);will-change:transform,opacity;pointer-events:auto}@keyframes presetsMenuSlideIn{0%{opacity:0;transform:translate(-50%) translateY(-10px) scale(.96)}60%{opacity:1;transform:translate(-50%) translateY(0) scale(1.01)}to{opacity:1;transform:translate(-50%) translateY(0) scale(1)}}.presets-menu-panel{background:#131313eb;border:1px solid #333;border-radius:10px;padding:12px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:0 6px 20px #00000059;display:flex;flex-direction:column;gap:12px}.presets-menu-section{display:flex;flex-direction:column;gap:8px}.presets-menu-grid{display:grid;grid-template-columns:repeat(2,minmax(110px,1fr));gap:8px}.presets-menu-item{min-width:110px;padding:8px 12px;font-size:.85rem;background:transparent;color:#fff;border:1px solid transparent;border-radius:6px;cursor:pointer;transition:background .15s,border-color .15s,transform .1s;text-align:center;white-space:nowrap}.presets-menu-item:hover{background:#2a2a2a;border-color:#444;transform:translateY(-1px)}.presets-menu-item:active{transform:translateY(0)}.presets-menu-separator{height:1px;background:linear-gradient(90deg,transparent 0%,#3a3a3a 20%,#3a3a3a 80%,transparent 100%);margin:4px 0}.presets-menu-actions{display:flex;gap:8px;justify-content:stretch}.presets-menu-action{flex:1;min-width:110px;padding:8px 12px;font-size:.85rem;background:transparent;color:#fff;border:1px solid transparent;border-radius:6px;cursor:pointer;transition:background .15s,border-color .15s,transform .1s;text-align:center;white-space:nowrap}.presets-menu-action:hover{background:#2a2a2a;border-color:#444;transform:translateY(-1px)}.presets-menu-action:active{transform:translateY(0)}@media(max-width:768px){.presets-menu{left:10px;right:10px;transform:none;width:calc(100% - 20px)}.presets-menu-panel{gap:12px}.presets-menu-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}}.top-toolbar{position:relative;width:100%;height:clamp(34px,2.125rem,42px);z-index:10;display:flex;gap:clamp(6px,.375rem,8px);align-items:center;padding:calc(env(safe-area-inset-top,0) + clamp(4px,.25rem,6px)) clamp(10px,.625rem,14px) clamp(6px,.375rem,8px) clamp(10px,.625rem,14px);background:#101010;border-bottom:1px solid rgba(255,255,255,.06);box-shadow:0 clamp(6px,.375rem,8px) clamp(20px,1.25rem,26px) #00000059;-webkit-backdrop-filter:blur(clamp(6px,.375rem,8px));backdrop-filter:blur(clamp(6px,.375rem,8px))}.top-toolbar{position:relative}.canvas-controls{position:absolute;right:80px;top:50%;transform:translateY(-50%);display:flex;gap:8px;align-items:center;pointer-events:auto;z-index:12}.tb-divider{width:1px;height:18px;background:#ffffff0f;margin:0 clamp(16px,1rem,20px);border-radius:1px;align-self:center;pointer-events:none}.tb-group{flex:1;display:flex;padding-top:clamp(2px,.125rem,3px);justify-content:center;align-items:center;gap:clamp(8px,.5rem,10px);margin:0 auto}.tb-btn{width:clamp(26px,1.625rem,32px);height:clamp(26px,1.625rem,32px);display:inline-flex;align-items:center;justify-content:center;background:transparent;color:#e6eef6;border:1px solid transparent;border-radius:clamp(4px,.25rem,5px);cursor:pointer;padding:clamp(6px,.375rem,8px);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;touch-action:manipulation}.tb-btn:focus{outline:none}.tb-btn:focus:not(:focus-visible){outline:none}.tb-btn:hover{transform:translateY(-1px)}.tb-btn:active{transform:translateY(-1px);background:#ffffff05}.tb-btn.active{transform:translateY(-1px);background:#53b0ff0f;color:#53b0ff}.tb-btn.active .tb-icon{filter:invert(63%) sepia(61%) saturate(3550%) hue-rotate(180deg) brightness(96%) contrast(100%)}.tb-btn:focus-visible{outline:2px solid rgba(83,176,255,.18);outline-offset:2px}.tb-icon{width:clamp(17px,1rem,20px);height:clamp(17px,1rem,20px);display:block;pointer-events:none;filter:invert(1) brightness(1.2)}.tb-spacer{flex:0}.tb-btn-right{margin-left:auto}.tb-btn-right:not(:last-child){margin-right:clamp(6px,.375rem,8px)}.tb-btn-right:last-child{margin-right:clamp(10px,.625rem,14px)}.tb-btn-preset .tb-icon{filter:invert(63%) sepia(61%) saturate(3550%) hue-rotate(250deg) brightness(96%) contrast(100%)}.tb-label{font-size:15px;letter-spacing:.02em;-webkit-user-select:none;user-select:none;pointer-events:none}.tb-label-presets{color:#c396fa;margin-left:3px}.tb-btn.locked{color:#ff7676}.tb-btn.locked svg{filter:invert(63%) sepia(61%) saturate(3550%) hue-rotate(340deg) brightness(96%) contrast(100%)}.tb-btn.recording{transform:translateY(-1px);background:#ef44440f;border-color:#ef44444d}.tb-btn.recording:hover{background:#ef44441a}.tb-btn:disabled{opacity:.6;cursor:not-allowed}.rec-stop-icon{width:10px;height:10px;background:#ef4444;border-radius:2px;display:block}.tb-btn.recording:focus-visible{outline:2px solid rgba(239,68,68,.18);outline-offset:2px}.creative-objects-menu{position:fixed;bottom:20px;left:20px;z-index:999;animation:creativeMenuSlideIn .22s cubic-bezier(.25,.8,.3,1);will-change:transform,opacity;pointer-events:auto;transition:left .3s ease}@keyframes creativeMenuSlideIn{0%{opacity:0;transform:translate(-10px) scale(.96)}60%{opacity:1;transform:translate(0) scale(1.01)}to{opacity:1;transform:translate(0) scale(1)}}.creative-menu-panel{background:#131313eb;border:1px solid #333;border-radius:10px;padding:12px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;flex-direction:row;gap:16px;transition:all .3s cubic-bezier(.25,.8,.3,1)}.creative-menu-panel.collapsed{padding:4px 6px}.creative-menu-toggle-button{background:transparent;color:#76baff;border:none;border-radius:6px;padding:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.creative-menu-toggle-button:hover{transform:scale(1.2);border:1px solid #76baff}.creative-menu-section{display:flex;flex-direction:column;gap:8px}.creative-menu-title{color:#76baff;margin:0 0 4px;font-size:.85rem;font-weight:500;letter-spacing:.5px;text-transform:uppercase;opacity:.9}.creative-menu-grid{display:grid;grid-template-columns:repeat(4,minmax(110px,1fr));grid-template-rows:repeat(3,auto);gap:8px;grid-auto-flow:column}.creative-menu-item{min-width:110px;padding:8px 12px;font-size:.85rem;background:transparent;color:#fff;border:1px solid transparent;border-radius:6px;cursor:pointer;transition:background .15s,border-color .15s,transform .1s;text-align:center;white-space:nowrap}.creative-menu-item:hover{background:#2a2a2a;border-color:#444;transform:translateY(-1px)}.creative-menu-item:active{transform:translateY(0)}@media(max-width:768px){.creative-objects-menu{left:10px;bottom:10px}}.creative-menu-grid{grid-template-columns:repeat(2,minmax(100px,1fr));grid-auto-flow:row}.dock-sidebar{position:fixed;left:0;top:34px;bottom:0;width:320px;background:#101010;border-right:1px solid #2a2a2a;display:flex;flex-direction:column;z-index:3;transition:width .3s ease;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}.dock-sidebar.minimized{width:60px}.dock-sidebar.minimized .dock-content{display:none}.dock-sidebar.collapsed{transform:translate(-100%);opacity:0;pointer-events:none;border:none}.dock-sidebar.minimized.collapsed{transform:translate(-100%)}.dock-sidebar.collapsed .dock-content{opacity:0}.dock-sidebar.collapsed.drag-active,.dock-sidebar.collapsed.drag-over{transform:translate(0);opacity:1;pointer-events:all;background:transparent}.dock-content{flex:1;overflow-y:auto;overflow-x:hidden;background:#101010;color:#eaeaea;display:flex;flex-direction:column;gap:8px;padding:8px;transition:opacity .3s ease}.dock-window-section{display:flex;flex-direction:column;position:relative}.drop-line{height:2px;background:#154e99e6;margin:4px 0;border-radius:1px;box-shadow:0 0 8px #154e9999;animation:pulse .6s ease-in-out infinite alternate}@keyframes pulse{0%{opacity:.7}to{opacity:1}}.dock-window-header{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px;padding:8px 10px;border:1px solid #202020;border-radius:8px;background:#121212;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease}.dock-window-header:hover{background:linear-gradient(180deg,#ffffff05,#ffffff03);border-color:#154e99e6;transform:translateY(-2px)}.dock-window-header:active{transform:translateY(0);box-shadow:0 3px 8px #00000059}.dock-window-header.dragging{opacity:.5;cursor:grabbing}.dock-window-expand{color:#bbb;font-size:16px;padding:5px 8px;line-height:1;-webkit-user-select:none;user-select:none;pointer-events:none}.dock-window-title{flex:1;color:#eaeaea;font-size:13px;font-weight:500}.dock-window-undock{background:transparent;border:none;color:#154e99;cursor:pointer;font-size:16px;padding:4px 8px;border-radius:4px;transition:all .2s ease;line-height:1}.dock-window-undock:hover{background:#154e9933}.dock-header-bar{padding:8px;border-bottom:1px solid #2a2a2a;display:flex;justify-content:center}.dock-minimize-btn{background:transparent;border:1px solid #2a2a2a;color:#bbb;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:4px;transition:all .2s ease;line-height:1;outline:none}.dock-minimize-btn:hover{background:#154e9933;border-color:#154e99e6;color:#154e99}.dock-minimize-btn:active{transform:scale(.95)}.dock-minimize-btn:focus{outline:none}.dock-icon-bar{flex:1;display:flex;flex-direction:column;gap:8px;padding:8px;overflow-y:auto;background:#101010;align-items:center}.dock-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:1px solid #202020;border-radius:6px;background:#121212;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease;font-size:20px;color:#bbb}.dock-icon img{width:24px;height:24px;filter:invert(1) brightness(.73);transition:filter .2s ease}.dock-icon:hover{background:linear-gradient(180deg,#ffffff05,#ffffff03);border-color:#154e99e6;transform:translateY(-2px);color:#154e99}.dock-icon:active{transform:translateY(0);box-shadow:0 3px 8px #00000059}.dock-icon[draggable=true]:active{cursor:grabbing;opacity:.5}.dock-window-content{margin-top:4px;border:1px solid #222;border-radius:6px;font-size:12px;line-height:1.4}.dock-drop-indicator{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:transparent;border:2px solid rgba(21,78,153,.9);color:transparent;font-size:18px;font-weight:600;pointer-events:none;z-index:1000;transition:width .3s ease,inset .3s ease,opacity .3s ease,color .3s ease}.dock-sidebar.drag-active:not(.collapsed) .dock-drop-indicator{display:flex;inset:0;opacity:.5;color:transparent}.dock-sidebar.collapsed.drag-active .dock-drop-indicator{display:flex;inset:0 auto 0 0;width:60px;opacity:.5;color:transparent}.dock-sidebar.drag-over.collapsed .dock-drop-indicator{display:flex;width:320px;inset:0;opacity:1;color:#154e99}.dock-sidebar.drag-over:not(.collapsed) .dock-drop-indicator{display:flex;inset:0;opacity:1;color:#154e99}.dock-content::-webkit-scrollbar-track{background:#0003}.dock-content::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.dock-content::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.object-popup{position:absolute;top:20px;right:20px;width:240px;background:#141414e6;color:#fff;border-radius:12px;padding:16px;box-shadow:0 4px 20px #0000004d;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:all .3s ease;z-index:10;font-family:Inter,sans-serif}.object-popup h3{margin-top:0;font-size:1.1rem;color:#76baff}.object-popup .prop{display:flex;justify-content:space-between;margin-bottom:6px}.object-popup .buttons{margin-top:12px;display:flex;justify-content:space-between}.object-popup button{background:#b21800;color:#f9fbfb;border:none;border-radius:6px;padding:6px 10px;cursor:pointer;transition:background .2s}.object-popup button:hover{background:#fa1e0ee1}.object-popup button:not(.icon-button){background:#b21800;color:#f9fbfb;border:none;border-radius:6px;padding:6px 10px;cursor:pointer;transition:background .2s}.object-popup button:not(.icon-button):hover{background:#fa1e0e}.object-popup.hidden{opacity:0;pointer-events:none;transform:translateY(-10px)}.object-popup label{display:flex;flex-direction:column;font-size:.9rem;margin-bottom:10px}.object-popup input,.object-popup select{width:62%;margin-top:4px;padding:4px;border-radius:6px;border:1px solid #555;background:#222;color:#fff;font-family:inherit}.object-popup .row{display:flex;gap:8px;align-items:center}.object-popup .row label{flex:1}.object-popup .checkbox-row{display:flex;align-items:center;vertical-align:right;justify-content:flex-start;gap:4px;margin:4px 0}.object-popup .checkbox-row label{display:inline-flex;flex-direction:row;align-items:center;margin:0;font-weight:500;gap:6px}.object-popup.minimized{padding:8px;min-width:auto;max-width:200px}.object-popup.minimized .popup-header{padding:0;margin:0}.object-popup.minimized h2{font-size:14px;margin:0}.popup-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:8px}.popup-controls{display:flex;gap:4px}.popup-footer{margin-top:12px;padding-top:12px;border-top:1px solid #ddd;text-align:center}.remove-button{background:#f44;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer}.remove-button:hover{background:red}.object-popup .popup-controls .icon-button{all:unset;box-sizing:border-box;width:22px;height:22px;display:grid;place-items:center;font-size:12px;line-height:1;color:#ccc;background:#2a2a2a;border:1px solid #3a3a3a;border-radius:4px;cursor:pointer}.object-popup .popup-controls .icon-button:hover{background:#333;border-color:#4a4a4a;color:#fff}.fixed-btn{background:#1e1e1e;color:#ddd;border:1px solid #333;border-radius:6px;padding:6px 10px;cursor:pointer;transition:all .2s;font-size:.9rem;width:100%;margin-bottom:10px}.fixed-btn:hover{background:#252525}.fixed-btn.active{background:#037813;color:#bfffcf;border-color:#049d2b}.object-popup .charge-info{display:flex;flex-direction:column;gap:4px}.object-popup .intensity-label{font-size:.7rem}.object-popup .intensity-input{width:60px;padding:2px 4px;font-size:.7rem;border:1px solid #444;background:#181818;color:#e9f1ff;border-radius:4px;outline:none;margin-top:4px}.object-popup .intensity-input.has-error{border-color:#c23535}.object-popup .popup-number-input,.object-popup .intensity-input{width:60px;padding:2px 4px;font-size:.7rem;border:1px solid #444;background:#181818;color:#e9f1ff;border-radius:4px;outline:none;margin-top:4px}.object-popup .popup-number-input.has-error,.object-popup .intensity-input.has-error{border-color:#c23535}.object-popup .input-error{color:#ff5c5c;font-size:.6rem;line-height:1.1;font-weight:600}
