/* === WRAPPER DO PAINEL === ##### É USADO ######*/
.sidebar-wrap {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: 0;
  z-index: 5;
  pointer-events: none;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

/* Painel lateral fixo ##### É USADO ###### */
.sidebar {
  position: fixed;
  top: 0;
  right: 0;
  width: clamp(325px, 20.3rem, 400px);
  top: clamp(20px, 1.25rem, 26px);
  height: 100vh;
  background: #101010;
  color: #eaeaea;
  border-left: 1px solid #2a2a2a;
  transform: translateX(100%);
  transition: transform 0.25s ease, width 0.3s ease;
  overflow: hidden;
  box-sizing: border-box;
  pointer-events: auto;
  cursor: pointer;
}

.sidebar.open {
  transform: translateX(0);
  cursor: default;
}

/* === LISTA DE OBJETOS === ##### É USADO ###### 
altera as posições e cenas dos objetos na side bar maximiziada*/
.object-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: clamp(8px, 0.5rem, 10px);
}

/*object list imgs*/
.object-row img {
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
  width: 20px;
  height: 20px;
}


 /* quando apago deixa os popups do objeto meio mal ##### É USADO ######*/
.object-row-wrapper {
  display: flex;
  flex-direction: column;
  gap: clamp(4px, 0.25rem, 5px);
}

.object-row-wrapper.expanded {
  gap: 0;
}

.object-row-wrapper.expanded .object-row {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  border-bottom: none;
}

.object-row-wrapper.expanded .object-row:hover,
.object-row-wrapper.expanded .object-row.selected,
.object-row-wrapper.expanded .object-row:focus-visible {
  transform: none;
}

.object-row {
  position: relative;
}

/*deixa as filas de cada objeto bonitinhas na sidebar maximizada ##### É USADO ######*/
.object-row {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(8px, 0.5rem, 10px);
  padding: clamp(8px, 0.5rem, 10px) clamp(10px, 0.625rem, 12px);
  border: 1px solid #202020;
  border-radius: clamp(8px, 0.5rem, 10px);
  background: #121212;
  cursor: pointer;  
}

.label-toggle {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  width: 30px;
  height: 28px;
  border-radius: 8px;
  border: 1px solid #2a2a2a;
  background: #141414;
  color: #cfcfcf;
  font-size: 12px;
  letter-spacing: 0.2px;
  cursor: pointer;
  padding: 0;
  transition: border-color 0.15s ease, color 0.15s ease, background 0.15s ease;
}

.label-toggle:focus,
.label-toggle:focus-visible {
  outline: none;
  box-shadow: none;
}

.label-toggle-icon {
  width: 15px;
  height: 15px;
  display: block;
}

.label-toggle.active {
  border-color: rgba(21, 78, 153, 0.9);
  color: #ffffff;
  background: #151c2c;
}

.label-toggle.active.disabled {
  opacity: 0.3;
  cursor: not-allowed !important;
  border-color: #2a2a2a;
  background: #141414;
  color: #bdbdbd;
}

.object-row:hover .label-toggle:not(.active),
.object-row:focus-visible .label-toggle:not(.active) {
  border-color: #2a2a2a;
  background: #141414;
  color: #bdbdbd;
}

/* Highlight whole row on hover and visible focus (keyboard) ##### É USADO ###### */
.object-row:hover,
.object-row.selected,
.object-row:focus-visible {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-color:rgba(21, 78, 153, 0.9);
  transform: translateY(-2px);
}

/* Keep hover glow on core elements without brightening the label toggle */
.object-row:hover .name,
.object-row.selected .name,
.object-row:focus-visible .name,
.object-row:hover .pill img,
.object-row.selected .pill img,
.object-row:focus-visible .pill img,
.object-row:hover .expand-btn,
.object-row.selected .expand-btn,
.object-row:focus-visible .expand-btn {
  filter: invert(63%) sepia(61%) saturate(3550%) hue-rotate(180deg) brightness(96%) contrast(100%);
}

/* Name highlight when row is hovered ##### É USADO ###### */
.object-row.hovered .name {
  color: #ffffff;
  font-weight: 600;
}

.object-row.selected .name {
  color: #fff;
  font-weight: 600;
}

/* Subtle active press effect ##### É USADO ###### mas não consigo ver a diferença*/
.object-row:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(0,0,0,0.35);
  
}

/* Tidy child tweaks when row is highlighted ##### É USADO ###### faz tremer as letras quando hover */
.object-row:hover .name,
.object-row:focus-visible .name {
  color: #fff;
  font-weight: 600;
}


/* Keep expand button visuals independent and usable ##### É USADO ######*/
.expand-btn { z-index: 2; }

/* Botão da setinha de expandir ##### É USADO ###### altera um pouco a row*/
.expand-btn {
  background: none;
  border: none;
  color: #bbb;
  font-size: 16px;
  cursor: pointer;
  transition: color 0.15s ease;
  padding: 5px 20px;
}

/* Ícones dentro da lista (agora sem pill) */
.object-row img {
  width: 20px;
  height: 20px;
  display: block;
  transition: filter .12s, transform .08s;
}

/* Full panel content ###### É USADO ######*/
.panel-content {
  padding: 16px;
  height: 100%;
  overflow-y: auto;
  box-sizing: border-box;
}

/* Detalhes expandidos ##### É USADO ###### talvez mudar */
.object-details {
  margin-top: 0;
  margin-right: 0;
  border: 1px solid #222;
  border-radius: 6px;
  background: #121212;
  padding: 0;
  font-size: 12px;
  line-height: 1.4;
  max-width: 100%;
  width: 100%;
  box-sizing: border-box;
  opacity: 0;
  overflow: hidden;
  will-change: height, opacity;
  transition: height 0.35s ease, opacity 0.2s ease;
}

.object-row-wrapper.expanded .object-details {
  border-top: none;
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  opacity: 1;
}

.object-row:hover + .object-details,
.object-row.selected + .object-details,
.object-row:focus-visible + .object-details {
  border-color: rgba(21, 78, 153, 0.9);
  border-top-color: rgba(21, 78, 153, 0.9);
}

/* keep expanded class for compatibility, but wrapper drives animation */
.object-details.expanded {
  opacity: 1;
}

/* aumenta o espaço das linhas dos detalhes dos objetos ##### É USADO ###### */
.details-grid {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 0;
  box-sizing: border-box;
}

.object-details.expanded .details-grid {
  padding: 8px 12px;
}

/* quando apago, ele apaga as linhas entra os detalhes do objeto ##### É USADO ###### */
.detail-row {
  display: flex;
  flex-wrap: wrap;           /* allow inputs to wrap */
  align-items: center;
  gap: 6px;
  padding: 2px 0;
  border-bottom: 1px solid #222;
}

/*apaga a linha por debaixo do ultimo detalhe do objeto ##### É USADO ######*/
.detail-row:last-child {
  border-bottom: none;
}

/* chave/valor dos detalhes do objeto ##### É USADO ######*/
.detail-key {
  flex: 0 0 auto;
  color: #999; /* cor do nome dos detalhes do objeto */
}

/* valor e organiza os valores dos detalhes do objeto ##### É USADO ######*/
.detail-value {
  flex: 1 1 100%;
  display: flex;
  align-items: center;
  gap: 6px;
  color: #eee;
  font-family: monospace;
  font-size: 11px;
  overflow: hidden;
}

/* estilos dos inputs dos detalhes do objeto ##### É USADO ######*/
.object-details input[type="number"],
.object-details input[type="text"],
.object-details select {
  flex: 0 0 auto;
  width: 70px;               /* fixed compact width */
  max-width: 100%;
  padding: 2px 6px;
  font-size: 11px;
  background: #141414;
  color: #e6eef7;
  border: 1px solid #2b2b2b;
  border-radius: 4px;
  box-sizing: border-box;
  outline: none;
}

.object-details input[type="number"]::-webkit-outer-spin-button,
.object-details input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.object-details input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* estilos dos inputs dos detalhes do objeto ##### ACHO QUE NÃO É USADO ######*/
.object-details input[type="number"]:focus,
.object-details input[type="text"]:focus,
.object-details select:focus {
  border-color:rgba(21, 78, 153, 0.9);
}
/* grupo de inputs para detalhes do objeto ##### NÃO SEI SE É USADO ######*/
.object-details .input-group {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  width: 100%;
}

/* grupo de inputs para detalhes do objeto ##### NÃO SEI SE É USADO ######*/
.object-details .input-group > label {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: 10px;
  color: #aaa;
}

/* grupo de inputs para detalhes do objeto ##### NÃO SEI SE É USADO ######*/
.object-details .error-text {
  width: 100%;
  color: #ff5c5c;
  font-size: 10px;
  font-weight: 600;
  margin-top: 2px;
}

/* wrapper para inputs inline nos detalhes do objeto ##### NÃO SEI SE É USADO ######*/
.object-details .inline-input-wrapper { display: flex; flex-direction: column; gap: 2px; }
.object-details .inline-input-wrapper input.has-error { border: 1px solid #c23535; }
.object-details .input-error { color: #ff5c5c; font-size: 10px; line-height: 1.1; font-weight: 600; }

/* === MODO MINIMIZADO / MINIBAR === ##### É USADO ######

# PROBLEMA COM NOMES QUE SÃO USADOS AQUI E NA SIEBAR.JSX E NA OBJECTLIST.JSX
*/


/* minibar: ##### É USADO ###### */
.sidebar.minimized {
  width: 50px; /* keep some padding */
  transform: translateX(0);
  overflow: visible;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 8px;
}

/* esconder o conteúdo normal quando minimizado ##### É USADO ######*/
.sidebar.minimized .panel-content {
  display: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Show panel content when opening */
.sidebar.open .panel-content {
  opacity: 1;
  transition: opacity 0.3s ease 0.1s;
}

/* layout vertical dos itens na minibar deixa bem espaçados etc ##### É USADO ###### */
.minibar {
  outline: none;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
  justify-content: center;
  height: 60vh;
  pointer-events: auto;
}

/*altera tudo menos as cherges ber ISSSOOO ##### É USADO ###### */
/* Botão apenas com ícone (sem pill) - charge, wire, plane, charged_sphere e surfaces */
.pos_charge-icon-btn,
.neg_charge-icon-btn,
.testPointCharge-icon-btn,
.wire-icon-btn,
.concentricInfWires-icon-btn,
.plane-icon-btn,
.stackedPlanes-icon-btn,
.charged_sphere-icon-btn,
.concentricSpheres-icon-btn,
.sphere-icon-btn,
.cuboid-icon-btn,
.cylinder-icon-btn,
.path-icon-btn,
.ringCoil-icon-btn,
.polygonCoil-icon-btn,
.solenoid-icon-btn,
.barMagnet-icon-btn,
.faradayCoil-icon-btn,
.testCoil-icon-btn {
  background: none;
  border: none;
  padding: 4px;
  width: auto;
  border-radius: 0;
  box-shadow: none;
  outline: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0;
  transform: none;
  margin: 0 auto; /* igual ao wire */
}

/* Ícone de wire  ##### É USADO ######*/
.wire-icon-btn .wire-icon, 
.concentricInfWires-icon-btn .wire-icon{
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
  transition: filter .12s, transform .08s;
}

/* Ícone de plane ##### É USADO ######*/
.plane-icon-btn .plane-icon,
.stackedPlanes-icon-btn .plane-icon {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
  transition: filter .12s, transform .08s;
}

/* Ícone de charged_sphere ##### É USADO ######*/
.concentricSpheres-icon-btn .charged_sphere-icon,
.charged_sphere-icon-btn .charged_sphere-icon {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
  transition: filter .12s, transform .08s;
}

/* Ícones de cargas positivas e negativas ##### É USADO ######*/
.pos_charge-icon-btn .charge-icon {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
}

.neg_charge-icon-btn .charge-icon {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
}

/* Estilo compartilhado para todos os ícones do minibar */
.sidebar-icon {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
  transition: filter .12s, transform .08s;
}

/* No modo minimizado, o botão não ganha hover visual */
.sidebar.minimized button:hover {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Destaque apenas na imagem no modo minimizado */
.sidebar.minimized button:hover img,
.sidebar.minimized button.hovered img {
  transform: scale(1.1);
  filter: brightness(0) saturate(100%) invert(62%) sepia(81%) saturate(508%) hue-rotate(165deg) brightness(103%) contrast(101%);
}
/* === TAB SWITCHER === */
.tab-switcher {
  display: flex;
  gap: 4px;
  margin-left: auto;
  flex-direction: row;
  justify-content: center;

  padding-bottom: 8px;
}

.tab-btn {
  padding: 6px 12px;
  background: #1a1a1a;
  color: #aaa;
  border: 1px solid #2a2a2a;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 500;
  transition: all 0.15s ease;
}

.tab-btn:hover {
  color: #ddd;
  border-color: #3a3a3a;
}

.tab-btn.active {
  background: #0d6efd;
  color: #fff;
  border-color: #0d6efd;
}