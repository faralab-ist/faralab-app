.top-toolbar {
  position: relative; /* was fixed */
  width: 100%;
  height: clamp(34px, 2.125rem, 42px); /* 34px at base, scales up */
  z-index: 10;
  display: flex;
  gap: clamp(6px, 0.375rem, 8px);
  align-items: center;
  padding: calc(env(safe-area-inset-top, 0) + clamp(4px, 0.25rem, 6px)) clamp(10px, 0.625rem, 14px) clamp(6px, 0.375rem, 8px) clamp(10px, 0.625rem, 14px);
  background:  #101010;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 clamp(6px, 0.375rem, 8px) clamp(20px, 1.25rem, 26px) rgba(0,0,0,0.35);
  backdrop-filter: blur(clamp(6px, 0.375rem, 8px));
}



/* position canvas controls to the left while keeping the center group centered */
.top-toolbar { position: relative; } /* already present, keep for positioning context */

/*this is not used for now*/
.canvas-controls {
  position: absolute;
  right: 80px;                /* move controls to the left edge (adjust as needed) */
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 8px;
  align-items: center;
  pointer-events: auto;
  z-index: 12;
}

/* small divider between sections */
.tb-divider {
  width: 1px;
  height: 18px;
  background: rgba(255,255,255,0.06);
  margin: 0 clamp(16px, 1rem, 20px);
  border-radius: 1px;
  align-self: center;
  pointer-events: none;
}

/* center the group across the full toolbar */
.tb-group {
  flex: 1;                  /* take available space */
  display: flex;
  padding-top:  clamp(2px, 0.125rem, 3px);
  justify-content: center;  /* center children horizontally */
  align-items: center;      /* center vertically */
  gap: clamp(8px, 0.5rem, 10px);                 /* space between buttons */
  margin: 0 auto;
}

/* tighter, perfectly centered buttons */
.tb-btn {
  width: clamp(26px, 1.625rem, 32px);
  height: clamp(26px, 1.625rem, 32px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: #e6eef6;
  border: 1px solid transparent;
  border-radius: clamp(4px, 0.25rem, 5px);
  cursor: pointer;
  padding: clamp(6px, 0.375rem, 8px);

  /* prevent native tap/click highlight and accidental selection/drag */
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  -webkit-user-drag: none;
  touch-action: manipulation;
}

/* remove outline for mouse clicks but keep keyboard focus (accessibility) */
.tb-btn:focus {
  outline: none;
  
}
.tb-btn:focus:not(:focus-visible) {
  
  outline: none;
}

.tb-btn:hover{
  transform: translateY(-1px);

}



/* keep your :active transform */
.tb-btn:active {
  transform: translateY(-1px); 
  background: rgba(255,255,255,0.02); /* neutral active background */
}

/* active state visuals */
.tb-btn.active {
  transform: translateY(-1px);
  background: rgba(83,176,255,0.06);
  color: #53b0ff; 
}

/* colorize raster/SVG images via CSS filter (approx blue) */
.tb-btn.active .tb-icon {
  /* tuned to produce a blue tint â€” adjust hue/sepia for other colors */
  filter: invert(63%) sepia(61%) saturate(3550%) hue-rotate(180deg) brightness(96%) contrast(100%);
}

/* focus accessibility */
.tb-btn:focus-visible {
  outline: 2px solid rgba(83,176,255,0.18);
  outline-offset: 2px;
}

.tb-icon {
  width: clamp(17px, 1rem, 20px);
  height: clamp(17px, 1rem, 20px);
  display: block;
  pointer-events: none;
  filter: invert(1) brightness(1.2);
}

/* Optional spacer to push items to the left/right if needed */
.tb-spacer {
  flex: 0;
}

/* Button positioned on the right side of toolbar */
.tb-btn-right {
  margin-left: auto;
}

.tb-btn-right:not(:last-child) {
  margin-right: clamp(6px, 0.375rem, 8px);
}

.tb-btn-right:last-child {
  margin-right: clamp(10px, 0.625rem, 14px);
}

/* Special highlight for presets button - purple tint */
.tb-btn-preset .tb-icon {
  filter: invert(63%) sepia(61%) saturate(3550%) hue-rotate(250deg) brightness(96%) contrast(100%);
}

